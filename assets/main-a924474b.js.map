{"version":3,"file":"main-a924474b.js","sources":["../../src/js/exercises.js","../../src/js/modal-form.js","../../src/js/footer.js"],"sourcesContent":["const FILTER_LIST = document.querySelector('.FilterList');\nlet filterExercises;\nconst GALLERY = document.querySelector('.Gallery');\n\n//button MUSCLES active by default\nconst MUSCLES_BUTTON = document.querySelector('button[name=\"Muscles\"]');\nMUSCLES_BUTTON.disabled = false;\n\n//делегування слухача на FILTER_LIST\nFILTER_LIST.addEventListener('click', event => {\n  // Check if a button was clicked\n  if (event.target.tagName === 'BUTTON') {\n    filterExercises = event.target.name;\n    console.log(filterExercises);\n    callApiWithQuery(filterExercises);\n  }\n});\n// axios.defaults базова адреса\n// axios.defaults.baseURL = 'https://energyflow.b.goit.study/api';\n\n// const FILTER_URL = `/filters`;\n\n// Function to call the API with the filterExecises\nfunction callApiWithQuery(filter) {\n  const API = axios.create({\n    baseURL: 'https://energyflow.b.goit.study/api',\n    params: {\n      filter: filter,\n      page: '1',\n      limit: '12',\n    },\n  });\n\n  API.get('/filters')\n    .then(response => {\n      console.log(response.results);\n      const IMGS = response.results.reduce(\n        (html, { name, filter, imgUrl }) =>\n          html +\n          `<li class=\"GalleryItem\">\n        <div class=\"Card\">\n          <a class=\"GalleryLink\" href=\"${imgUrl}\">\n            <img class=\"GalleryImage\"\n            src=\"${imgUrl}\"\n            alt=\"${filter}\"\n          />\n          </a>\n          </div>          \n          <div class=\"CardDescription\">\n          <p class=\"NameDescription\">${name}</p>\n          <p class=\"FilterDescription\">${filter}</p>          \n          </div> \n        </li>`,\n        ''\n      );\n\n      GALLERY.insertAdjacentHTML('beforeend', IMGS);\n    })\n    .catch(error => {\n      console.error(error);\n      iziToast.error({\n        message: error.message,\n        color: 'red',\n        position: 'topCenter',\n      });\n    });\n}\n","const refs = {\n  modalBackdrop: document.querySelector('.js-backdrop-modal'),\n  closeBtn: document.querySelector('.js-rating-close'),\n  form: document.querySelector('.js-rating-form'),\n  rateStars: document.querySelector('.js-stars-list'),\n  rateValue: document.querySelector('.js-rating-data'),\n  star: document.querySelectorAll('.js-rating-star'),\n};\nlet rate = 0;\n\nwindow.addEventListener('click', closeModal);\ndocument.addEventListener('keydown', closeModalByEsc);\nrefs.closeBtn.addEventListener('click', closeModalByBtn);\nrefs.form.addEventListener('submit', getData);\nrefs.rateStars.addEventListener('click', getRate);\n\nfunction closeModal(e) {\n  if (e.target.classList.contains('backdrop')) {\n    refs.modalBackdrop.classList.remove('is-hidden');\n    window.removeEventListener('click', closeModal);\n  }\n}\nfunction closeModalByBtn(e) {\n  if (e.currentTarget) {\n    refs.modalBackdrop.classList.add('is-hidden');\n    window.removeEventListener('click', closeModal);\n  }\n}\n\nfunction closeModalByEsc(e) {\n  if (e.code === 'Escape') {\n    refs.modalBackdrop.classList.add('is-hidden');\n    window.removeEventListener('click', closeModal);\n  }\n}\nfunction getRate(e) {\n  let currentStar = e.target;\n  let activeStar = refs.rateStars.querySelector('.star-active');\n\n  currentStar.classList.add('star-active');\n  if (activeStar) {\n    activeStar.classList.remove('star-active');\n  }\n\n  setTimeout(() => {\n    refs.rateValue.textContent = `${currentStar.dataset.rate}.0`;\n  }, 0);\n  rate = currentStar.dataset.rate;\n}\n\nfunction getData(e) {\n  e.preventDefault();\n  console.log({\n    rating: rate,\n    email: e.target.elements.email.value,\n    comment: e.target.elements.comment.value,\n  });\n  refs.modalBackdrop.classList.remove('is-hidden');\n  refs.form.removeEventListener('submit', getData);\n}","const footerform = document.querySelector('.footer-form');\n\nfooterform.addEventListener(\"submit\", handleSubmit);\n\nasync function handleSubmit(event) {\n    event.preventDefault();\n    \n    const footerEmailValue = event.currentTarget.elements.footerInput.value.trim();\n   \n\n    try {\n        const response = await axios.post('https://energyflow.b.goit.study/api/subscription', {\n        email: footerEmailValue\n        })\n\n        iziToast.success({\n            title: 'OK',\n                 message: 'Successfully inserted record!',\n                 color: 'white'\n         });\n        \n        console.log(response.data)\n        \n    } catch (error) {\n        iziToast.error({\n                    title: 'Error',\n                    message: 'Error sending subscription request',\n                });\n    }\n \n};\n\n"],"names":["FILTER_LIST","filterExercises","GALLERY","MUSCLES_BUTTON","event","callApiWithQuery","filter","response","IMGS","html","name","imgUrl","error","refs","rate","closeModal","closeModalByEsc","closeModalByBtn","getData","getRate","currentStar","activeStar","footerform","handleSubmit","footerEmailValue"],"mappings":"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"}