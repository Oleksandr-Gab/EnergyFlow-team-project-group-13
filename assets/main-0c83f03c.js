import{a as L,i as g}from"./vendor-8cce9181.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&c(n)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}})();const d=document.querySelector("[data-menu-open]"),u=document.querySelector("[data-menu-close]"),y=document.querySelector(".nav"),k=document.querySelector('[data-action="homepage"]'),w=document.querySelector('[data-action="favoritespage"]'),m=document.querySelector(".menu-back-drop"),v=document.body;function h(e,o){e&&(o===e.getAttribute("href")?e.classList.add("current"):e.classList.remove("current"))}h(k,"/EnergyFlow-team-project-group-13/index.html");h(w,"/EnergyFlow-team-project-group-13/favorite.html");document.addEventListener("keydown",e=>{e.key==="Escape"&&f()});u.addEventListener("click",f);d.addEventListener("click",()=>{y.classList.add("active"),d.classList.add("is-hidden"),u.classList.remove("is-hidden"),v.classList.add("lock"),m.classList.add("active")});function f(){y.classList.remove("active"),d.classList.remove("is-hidden"),u.classList.add("is-hidden"),v.classList.remove("lock"),m.classList.remove("active")}m.addEventListener("click",q);function q(e){e.target.classList.contains("menu-back-drop")&&f()}const B=document.querySelector(".FilterList");let l;const E=document.querySelector(".Gallery"),T=document.querySelector('button[name="Muscles"]');T.disabled=!1;B.addEventListener("click",e=>{E.innerHTML="",e.target.tagName==="BUTTON"&&(l=e.target.name,console.log(l),I(l))});async function I(e){const s=await L.create({baseURL:"https://energyflow.b.goit.study/api",params:{filter:e,page:"1",limit:"12"}}).get("/filters");console.log(s);const c=s.data.results.reduce((t,{name:r,filter:n,imgUrl:p})=>t+`<li class="GalleryItem">
           <div class="Card">
            <a class="GalleryLink" href="${p}">
             <img class="GalleryImage"
             src="${p}"
             alt="${n}"
             />
            </a>
            </div>
            <div class="CardDescription">
            <p class="NameDescription">${r}</p>
            <p class="FilterDescription">${n}</p>
            </div>
          </li>`,"");E.insertAdjacentHTML("beforeend",c)}const M=document.querySelector(".footer-form"),j=document.querySelector(".footer-form-input"),O="https://energyflow.b.goit.study/api/subscription";M.addEventListener("submit",A);async function A(e){e.preventDefault();const o=e.currentTarget.elements.footerInput.value.trim();try{const s=await L.post(O,{email:o});if(s.status>=200&&s.status<300){const c=s.data.message;g.success({title:"OK",message:c,color:"white",position:"center"})}else throw new Error}catch(s){g.error({title:"Error",message:s.response.data.message,position:"center",backgroundColor:"gray"})}finally{j.value=""}}const a={modalBackdrop:document.querySelector(".js-backdrop-modal"),closeBtn:document.querySelector(".js-rating-close"),form:document.querySelector(".js-rating-form"),rateStars:document.querySelector(".js-stars-list"),rateValue:document.querySelector(".js-rating-data"),star:document.querySelectorAll(".js-rating-star")};let S=0;window.addEventListener("click",i);document.addEventListener("keydown",P);a.closeBtn.addEventListener("click",C);a.form.addEventListener("submit",b);a.rateStars.addEventListener("click",D);function i(e){e.target.classList.contains("backdrop")&&(a.modalBackdrop.classList.remove("is-hidden"),window.removeEventListener("click",i))}function C(e){e.currentTarget&&(a.modalBackdrop.classList.add("is-hidden"),window.removeEventListener("click",i))}function P(e){e.code==="Escape"&&(a.modalBackdrop.classList.add("is-hidden"),window.removeEventListener("click",i))}function D(e){let o=e.target,s=a.rateStars.querySelector(".star-active");o.classList.add("star-active"),s&&s.classList.remove("star-active"),setTimeout(()=>{a.rateValue.textContent=`${o.dataset.rate}.0`},0),S=o.dataset.rate}function b(e){e.preventDefault(),console.log({rating:S,email:e.target.elements.email.value,comment:e.target.elements.comment.value}),a.modalBackdrop.classList.remove("is-hidden"),a.form.removeEventListener("submit",b)}
//# sourceMappingURL=main-0c83f03c.js.map
