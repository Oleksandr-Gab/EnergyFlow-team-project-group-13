import{T as R,i as u,a as H}from"./vendor-29bef8ec.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();const M=document.querySelector("[data-menu-open]"),T=document.querySelector("[data-menu-close]"),j=document.querySelector(".nav"),ne=document.querySelector('[data-action="homepage"]'),se=document.querySelector('[data-action="favoritespage"]'),z=document.querySelector(".menu-back-drop"),U=document.body,re=document.querySelector(".header"),ae=window.location.href;ae.includes("favorite")&&(ne.classList.remove("current"),se.classList.add("current"),re.style.position="static");document.addEventListener("keydown",e=>{e.key==="Escape"&&P()});T.addEventListener("click",P);M.addEventListener("click",()=>{j.classList.add("active"),M.classList.add("is-hidden"),T.classList.remove("is-hidden"),U.classList.add("lock"),z.classList.add("active")});function P(){j.classList.remove("active"),M.classList.remove("is-hidden"),T.classList.add("is-hidden"),U.classList.remove("lock"),z.classList.remove("active")}z.addEventListener("click",ie);function ie(e){e.target.classList.contains("menu-back-drop")&&P()}const ce=document.querySelector(".quote-info"),_="quote-of-the-day",w="date",le=new Date,q=le.getDate();async function de(){try{const o=(await H.create({baseURL:"https://energyflow.b.goit.study/api"}).get("/quote")).data;J(o),ue(o,q)}catch(e){u.error({timeout:5e3,title:"Error",message:e.message,position:"topRight"})}}//! SAVE QUOTE AND DATA
function ue(e,t){localStorage.setItem(_,JSON.stringify(e)),localStorage.setItem(w,t)}//! RENDER QUOTE
function J(e){const t=[e];ce.innerHTML=t.reduce((o,{quote:s,author:n})=>o+`<p class="quote-text">${s}</p>
        <h3 class="quote-author">${n}</h3>`,"")}//! CHECK DAY AND GET NEW QUOTE
async function me(){const e=localStorage.getItem(w);if(isNaN(e)){u.error({timeout:5e3,title:"Error",message:error.message,position:"topRight"});return}if(parseInt(e)===q){const t=localStorage.getItem(_);if(t){const o=JSON.parse(t);J(o)}return}await de(),localStorage.setItem(w,q.toString())}me();//! ANIMATION 
new R("#quote",{speed:26,startDelay:300,waitUntilVisible:!0,afterComplete:function(e){e.destroy()}}).go();new R("#motivation-txt",{speed:26,startDelay:300,waitUntilVisible:!0,afterComplete:function(e){e.destroy()}}).go();const pe=100,B=document.querySelector(".skroll-btn"),fe=()=>window.scrollY||document.documentElement.scrollTop;window.addEventListener("scroll",()=>{fe()>pe?B.classList.add("skroll-btn-active"):B.classList.remove("skroll-btn-active")});B.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const l=[{text:"One-Month Membership",color:"rgba(232, 232, 232, 1)"},{text:"Personal Training Session",color:"rgb(126, 133, 127)"},{text:"Fitness Bracelet",color:"rgba(232, 232, 232, 1)"},{text:"25% Off Certificate",color:"rgb(126, 133, 127)"},{text:"$50 Gift Card",color:"rgba(232, 232, 232, 1)"},{text:"10% Off Certificate",color:"rgb(126, 133, 127)"},{text:"$30 Gift Card",color:"rgba(232, 232, 232, 1)"},{text:"Participation in Marathon",color:"rgb(126, 133, 127)"}],d=document.querySelector(".deal-wheel"),m=d.querySelector(".spinner"),D=d.querySelector(".btn-spin"),C=d.querySelector(".ticker"),ge=document.querySelector(".get-prize-container"),I=360/l.length,ve=Math.floor(180/l.length),Q="is-spinning",V="selected",ye=window.getComputedStyle(m);let G,p=0,F=0,x;const Le=()=>{l.forEach(({text:e,color:t,reaction:o},s)=>{const n=I*s*-1-ve;m.insertAdjacentHTML("beforeend",`<li class="prize" data-reaction=${o} style="--rotate: ${n}deg">
        <span class="text">${e}</span>
      </li>`)})},he=()=>{m.setAttribute("style",`background: conic-gradient(
      from -90deg,
      ${l.map(({color:e},t)=>`${e} 0 ${100/l.length*(l.length-t)}%`).reverse()}
    );`)},Ee=()=>{he(),Le(),x=d.querySelectorAll(".prize")},ke=(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e),K=()=>{const e=ye.transform.split("(")[1].split(")")[0].split(","),t=e[0],o=e[1];let s=Math.atan2(o,t);s<0&&(s+=2*Math.PI);const n=Math.round(s*(180/Math.PI)),r=Math.floor(n/I);F!==r&&(C.style.animation="none",setTimeout(()=>C.style.animation=null,10),F=r),G=requestAnimationFrame(K)},Se=()=>{const e=Math.floor(p/I);x[e].classList.add(V);const t=l[e].text;setTimeout(()=>{d.style.display="none",introMessagePrize.style.display="none",congratulationsMessage.style.display="block",document.getElementById("congratulationMessage").innerHTML="Congratulations!",document.getElementById("congratulationMessage1").innerHTML=" You've won: ",document.getElementById("prizeMessage").innerText=t,ge.style.display="block"},3e3)};D.addEventListener("click",()=>{D.disabled=!0,p=Math.floor(Math.random()*360+ke(2e3,5e3)),x.forEach(e=>e.classList.remove(V)),d.classList.add(Q),m.style.setProperty("--rotate",p),C.style.animation="none",K()});m.addEventListener("transitionend",()=>{cancelAnimationFrame(G),p%=360,Se(),d.classList.remove(Q),m.style.setProperty("--rotate",p)});Ee();const be=document.querySelector("#prizeForm");document.querySelector(".input-get");be.addEventListener("submit",Me);async function Me(e){e.preventDefault();const t=e.currentTarget.elements.prizeInput.value.trim();if(!we(t))return qe()}const we=e=>/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/.test(e),qe=()=>{u.info({title:"",message:"Please give us a valid email.",color:"white",position:"center"})};var $=document.getElementById("myModalPrize"),Be=document.getElementById("openModalBtnPrize");Be.onclick=function(){$.style.display="flex"};function Y(){$.style.display="none"}window.onclick=function(e){e.target==$&&Y()};var Ce=document.getElementById("closeModalPrize");Ce.onclick=function(){Y()};document.addEventListener("DOMContentLoaded",function(){function e(){var s=document.getElementById("email-prize").value,n=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!n.test(s)){u.error({title:"Error",message:"Enter a valid email!",zIndex:1001,timeout:2e3,backgroundColor:"white",color:"black",iconColor:"black"});return}u.success({title:"Success",message:"Form submitted!",zIndex:1001,timeout:2e3,backgroundColor:"white",color:"black",iconColor:"black"}),setTimeout(function(){t()},1e3)}function t(){var s=document.getElementById("myModalPrize");s.style.display="none"}var o=document.querySelector(".button-get");o.addEventListener("click",e)});document.addEventListener("DOMContentLoaded",()=>{ze()});const O=document.getElementById("exerciseModal"),W=document.getElementById("closeModalBtn"),Z=document.getElementById("information"),a=document.getElementById("addToFavoritesBtn");let N,f;async function Te(e){try{f=(await H.create({baseURL:"https://energyflow.b.goit.study/api/exercises"}).get(e)).data,Pe(f)}catch{u.error({title:"Error",message:"Error fetching exercise data: ",position:"topRight"})}}const ze=()=>{N=document.querySelectorAll(".workout-btn-container"),N.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let o=t.target.id;Te(o)})})};async function Pe(e){const{bodyPart:t,burnedCalories:o,description:s,equipment:n,gifUrl:r,name:c,popularity:h,rating:E,target:k,time:S}=e,b=`

        <div class="gif">
        <img src="${r}" alt="${c}" >
        </div>

        <div class = "text">

        <h2>${c}</h2>
        
        <div class="rating-container">
            <p>${E}</p>
            <svg class="icon-star" width="12" height="12">
                <use href="../img/sprite.svg#icon-star"></use>
            </svg>
        </div>

        <ul class="info-block">
    <li class="info-item">
        <span class="info-text">Target</span> ${k}
    </li>
    <li class="info-item">
        <span class="info-text">Body Part</span> ${t}
    </li>
    <li class="info-item">
        <span class="info-text">Equipment</span> ${n}
    </li>
    <li class="info-item">
        <span class="info-text">Popular</span> ${h}
    </li>
    <li class="info-item">
        <span class="info-text">Burned Calories</span> ${o}/${S}min
    </li>
</ul>


        <p class="description">Description: ${s}</p> 
        </div>`;Z.innerHTML=b,await A(),Ie()}function Ie(){O.classList.add("open"),document.body.style.overflow="hidden",W.addEventListener("click",y),document.addEventListener("mouseup",X),document.addEventListener("keydown",ee)}function y(){O.classList.remove("open"),W.removeEventListener("click",y),document.removeEventListener("mouseup",X),document.removeEventListener("keydown",ee),Z.innerHTML="",document.body.style.overflow="",a.removeEventListener("click",g),a.removeEventListener("click",v)}const X=function(e){!document.getElementById("modal").contains(e.target)&&O.classList.contains("open")&&y()},ee=function(e){e.key==="Escape"&&y()},xe=e=>{const{_id:t,bodyPart:o,burnedCalories:s,description:n,equipment:r,gifUrl:c,name:h,popularity:E,rating:k,target:S,time:b}=e;return{_id:t,bodyPart:o,burnedCalories:s,description:n,equipment:r,gifUrl:c,name:h,popularity:E,rating:k,target:S,time:b}},g=()=>{let e=localStorage.getItem("favoritesCard"),t=[];e!=null&&(t=JSON.parse(e));const o=xe(f);t.push(o),localStorage.setItem("favoritesCard",JSON.stringify(t)),A()},v=()=>{const{_id:e}=f;let t=localStorage.getItem("favoritesCard"),o=JSON.parse(t).filter(s=>s._id!=e);localStorage.setItem("favoritesCard",JSON.stringify(o)),A()},A=()=>{const{_id:e}=f;let t=localStorage.getItem("favoritesCard");a.removeEventListener("click",v),a.addEventListener("click",g),a.innerHTML="Add to favorites",t!=null&&JSON.parse(t).forEach(o=>{o._id==e?(a.innerHTML="Delete favorite",a.removeEventListener("click",g),a.addEventListener("click",v)):(a.removeEventListener("click",v),a.addEventListener("click",g),a.innerHTML="Add to favorites")})},i={modalBackdrop:document.querySelector(".js-backdrop-modal"),closeBtn:document.querySelector(".js-rating-close"),form:document.querySelector(".js-rating-form"),rateStars:document.querySelector(".js-stars-list"),rateValue:document.querySelector(".js-rating-data"),star:document.querySelectorAll(".js-rating-star")};let te=0;window.addEventListener("click",L);document.addEventListener("keydown",Oe);i.closeBtn.addEventListener("click",$e);i.form.addEventListener("submit",oe);i.rateStars.addEventListener("click",Ae);function L(e){e.target.classList.contains("backdrop")&&(i.modalBackdrop.classList.remove("is-hidden"),window.removeEventListener("click",L))}function $e(e){e.currentTarget&&(i.modalBackdrop.classList.add("is-hidden"),window.removeEventListener("click",L))}function Oe(e){e.code==="Escape"&&(i.modalBackdrop.classList.add("is-hidden"),window.removeEventListener("click",L))}function Ae(e){let t=e.target,o=i.rateStars.querySelector(".star-active");t.classList.add("star-active"),o&&o.classList.remove("star-active"),setTimeout(()=>{i.rateValue.textContent=`${t.dataset.rate}.0`},0),te=t.dataset.rate}function oe(e){e.preventDefault(),console.log({rating:te,email:e.target.elements.email.value,comment:e.target.elements.comment.value}),i.modalBackdrop.classList.remove("is-hidden"),i.form.removeEventListener("submit",oe)}export{ze as a};
//# sourceMappingURL=modal-form-2099e469.js.map
