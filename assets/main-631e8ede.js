import{a as y,i as L}from"./vendor-8cce9181.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&c(n)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}})();const d=document.querySelector("[data-menu-open]"),u=document.querySelector("[data-menu-close]"),g=document.querySelector(".nav"),b=document.querySelector('[data-action="homepage"]'),w=document.querySelector('[data-action="favoritespage"]'),m=document.querySelector(".menu-back-drop"),v=document.body,h=window.location.pathname;console.log(h);h!="/index.html"&&(b.classList.remove("current"),w.classList.add("current"));document.addEventListener("keydown",e=>{e.key==="Escape"&&f()});u.addEventListener("click",f);d.addEventListener("click",()=>{g.classList.add("active"),d.classList.add("is-hidden"),u.classList.remove("is-hidden"),v.classList.add("lock"),m.classList.add("active")});function f(){g.classList.remove("active"),d.classList.remove("is-hidden"),u.classList.add("is-hidden"),v.classList.remove("lock"),m.classList.remove("active")}m.addEventListener("click",q);function q(e){e.target.classList.contains("menu-back-drop")&&f()}const B=document.querySelector(".FilterList");let l;const S=document.querySelector(".Gallery"),T=document.querySelector('button[name="Muscles"]');T.disabled=!1;B.addEventListener("click",e=>{S.innerHTML="",e.target.tagName==="BUTTON"&&(l=e.target.name,console.log(l),I(l))});async function I(e){const s=await y.create({baseURL:"https://energyflow.b.goit.study/api",params:{filter:e,page:"1",limit:"12"}}).get("/filters");console.log(s);const c=s.data.results.reduce((t,{name:r,filter:n,imgUrl:p})=>t+`<li class="GalleryItem">
           <div class="Card">
            <a class="GalleryLink" href="${p}">
             <img class="GalleryImage"
             src="${p}"
             alt="${n}"
             />
            </a>
            </div>
            <div class="CardDescription">
            <p class="NameDescription">${r}</p>
            <p class="FilterDescription">${n}</p>
            </div>
          </li>`,"");S.insertAdjacentHTML("beforeend",c)}const M=document.querySelector(".footer-form"),O=document.querySelector(".footer-form-input"),P="https://energyflow.b.goit.study/api/subscription";M.addEventListener("submit",j);async function j(e){e.preventDefault();const o=e.currentTarget.elements.footerInput.value.trim();try{const s=await y.post(P,{email:o});if(s.status>=200&&s.status<300){const c=s.data.message;L.success({title:"OK",message:c,color:"white",position:"center"})}else throw new Error}catch(s){L.error({title:"Error",message:s.response.data.message,position:"center",backgroundColor:"gray"})}finally{O.value=""}}const a={modalBackdrop:document.querySelector(".js-backdrop-modal"),closeBtn:document.querySelector(".js-rating-close"),form:document.querySelector(".js-rating-form"),rateStars:document.querySelector(".js-stars-list"),rateValue:document.querySelector(".js-rating-data"),star:document.querySelectorAll(".js-rating-star")};let E=0;window.addEventListener("click",i);document.addEventListener("keydown",D);a.closeBtn.addEventListener("click",A);a.form.addEventListener("submit",k);a.rateStars.addEventListener("click",N);function i(e){e.target.classList.contains("backdrop")&&(a.modalBackdrop.classList.remove("is-hidden"),window.removeEventListener("click",i))}function A(e){e.currentTarget&&(a.modalBackdrop.classList.add("is-hidden"),window.removeEventListener("click",i))}function D(e){e.code==="Escape"&&(a.modalBackdrop.classList.add("is-hidden"),window.removeEventListener("click",i))}function N(e){let o=e.target,s=a.rateStars.querySelector(".star-active");o.classList.add("star-active"),s&&s.classList.remove("star-active"),setTimeout(()=>{a.rateValue.textContent=`${o.dataset.rate}.0`},0),E=o.dataset.rate}function k(e){e.preventDefault(),console.log({rating:E,email:e.target.elements.email.value,comment:e.target.elements.comment.value}),a.modalBackdrop.classList.remove("is-hidden"),a.form.removeEventListener("submit",k)}
//# sourceMappingURL=main-631e8ede.js.map
