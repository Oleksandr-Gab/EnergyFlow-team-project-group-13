import{T as Y,i as a,a as g}from"./vendor-29bef8ec.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();const b=document.querySelector("[data-menu-open]"),M=document.querySelector("[data-menu-close]"),x=document.querySelector(".nav"),J=document.querySelector('[data-action="homepage"]'),Z=document.querySelector('[data-action="favoritespage"]'),q=document.querySelector(".menu-back-drop"),$=document.body,X=document.querySelector(".header"),ee=window.location.href;ee.includes("favorite")&&(J.classList.remove("current"),Z.classList.add("current"),X.style.position="static");document.addEventListener("keydown",e=>{e.key==="Escape"&&B()});M.addEventListener("click",B);b.addEventListener("click",()=>{x.classList.add("active"),b.classList.add("is-hidden"),M.classList.remove("is-hidden"),$.classList.add("lock"),q.classList.add("active")});function B(){x.classList.remove("active"),b.classList.remove("is-hidden"),M.classList.add("is-hidden"),$.classList.remove("lock"),q.classList.remove("active")}q.addEventListener("click",te);function te(e){e.target.classList.contains("menu-back-drop")&&B()}const oe=document.querySelector(".quote-info"),C="quote-of-the-day",E="date",re=new Date,w=re.getDate();async function se(){try{const o=(await g.create({baseURL:"https://energyflow.b.goit.study/api"}).get("/quote")).data;O(o),ne(o,w)}catch(e){a.error({timeout:5e3,title:"Error",message:e.message,position:"topRight"})}}//! SAVE QUOTE AND DATA
function ne(e,t){localStorage.setItem(C,JSON.stringify(e)),localStorage.setItem(E,t)}//! RENDER QUOTE
function O(e){const t=[e];oe.innerHTML=t.reduce((o,{quote:s,author:r})=>o+`<p class="quote-text">${s}</p>
        <h3 class="quote-author">${r}</h3>`,"")}async function ae(){const e=localStorage.getItem(E);if(isNaN(e)){a.error({timeout:5e3,title:"Error",message:error.message,position:"topRight"});return}if(parseInt(e)===w){const t=localStorage.getItem(C);if(t){const o=JSON.parse(t);O(o)}return}await se(),localStorage.setItem(E,w.toString())}ae();new Y("#quote",{speed:50,waitUntilVisible:!0}).go();let h;const ie=document.querySelector(".filter-list");let v;const R=document.querySelector(".gallery"),ce=document.querySelector('button[name="Muscles"]');ce.disabled=!1;ie.addEventListener("click",e=>{R.innerHTML="",e.target.tagName==="BUTTON"&&(v=e.target.name,console.log(v),le(v))});async function le(e){h=await g.create({baseURL:"https://energyflow.b.goit.study/api",params:{filter:e,page:"1",limit:"12"}}).get("/filters"),console.log(h);const o=h.data.results.reduce((s,{name:r,filter:n,imgUrl:c})=>s+`<li class="gallery-item">
           <div class="card">
            <a class="gallery-link" href="${c}">
             <img class="gallery-image"
             src="${c}"
             alt="${n}"
             />
            </a>
            </div>
            <div class="card-description">
            <p class="name-description">${r}</p>
            <p class="filter-description">${n}</p>
            </div>
          </li>`,"");R.insertAdjacentHTML("beforeend",o)}document.getElementById("exerciseModal");document.getElementById("closeModalBtn");document.getElementById("addToFavoritesBtn");document.getElementById("giveRatingBtn");document.getElementById("information");const D=document.querySelector(".gallery"),p=document.querySelector(".waist"),de=innerWidth;console.log(de);const ue=g.create({baseURL:"https://energyflow.b.goit.study/api",params:{page:"1",limit:"8"}}),me=async e=>await ue.get(e);function ge(){D.innerHTML="",p.innerHTML="",p.classList.add("information-cards"),me("/exercises").then(e=>{pe(e.data.results)}).catch(e=>{a.error({message:e,position:"topRight"})})}D.addEventListener("click",ge);p.addEventListener("click",e=>{console.log("hi"),console.log(e.target.id)});function pe(e){p.insertAdjacentHTML("afterbegin",e.reduce((t,{burnedCalories:o,name:s,bodyPart:r,rating:n,time:c,target:_,_id:K})=>t+`<li class="gallery-card" id="${K}">
      <div class="header-card">
        <div class="workout">WORKOUT</div>
        <div class="rating">
            <p>${n}</p>
            <svg class="icon-star" width="12" height="12">
                <use href="../img/sprite.svg#icon-star"></use>
            </svg>
        </div>
                 
        <div class="workout-btn-container">
            <button class="workout-btn">Start</button>
            <svg class="icon-right" width="14" height="16">
                <use href="../img/sprite.svg#icon-right"></use>
            </svg>
        </div>
      </div>

      <div class="title-card">
          <div class="icon-card">
              <svg class="run" width="24" height="24">
                  <use href="../img/sprite.svg#run"></use>
              </svg>
          </div>
          <h3>${s}</h3>
      </div>

      <ul class="params-card">
            <li class="calories"><span class="params-text">Burned calories:</span> ${o}/${c}min</li>
            <li class="body-part"><span class="params-text">Body part:</span> ${r}</li>
            <li class="target"><span class="params-text">Target:</span> ${_}</li>
      </ul>
    </li>`,""))}const fe=document.querySelector(".search-block"),ye=document.querySelector(".custom-pagination-btn"),L=document.querySelectorAll(".render-pagination-btn"),he=g.create({baseURL:"https://energyflow.b.goit.study/api/"}),ve={fetchFilters:async e=>{try{return(await he.get("filters",{params:e})).data.results}catch(t){console.error(t),Le(t)}}},Le=e=>{throw a.error({title:"API Error",message:"An error occurred while fetching data from the API."}),e},be=async e=>{try{return(await ve.fetchFilters({...e})).map(Ee).join("")}catch(t){return console.error(t),N(),""}},Ee=e=>`<li class="render-page-one-item" data-name="${e.name}">
            <img src="${e.imgUrl}" alt="" />
            <div class="render-page-one-img-container">
              <p class="render-page-one-item-title">${e.name}</p>
              <p class="render-page-one-item-zones">${e.filter}</p>
            </div>
          </li>`,N=()=>{a.error({title:"Rendering Error",message:"An error occurred while rendering data."})},we=async e=>{try{const t=await e;fe.innerHTML=t}catch(t){console.error(t),N()}},Se=e=>{const t=parseInt(e.dataset.btn)===3?1:-1;L.forEach(o=>{o.textContent=parseInt(o.textContent)+t}),L[0].style.display=f.page>1?"block":"none",L[2].style.display=f.page>=qe-1?"none":"block"},ke=e=>{e.target.nodeName==="BUTTON"&&(f.page=parseInt(e.target.textContent),we(be(f)),Se(e.target))},Me=getComputedStyle(document.querySelector("body")).width,F=Me<768?8:12,f={limit:F,page:1},qe=69/F;ye.addEventListener("click",ke);const Be=document.querySelector(".footer-form"),Te=document.querySelector(".footer-form-input"),Ie="https://energyflow.b.goit.study/api/subscription";Be.addEventListener("submit",Pe);async function Pe(e){e.preventDefault();const t=e.currentTarget.elements.footerInput.value.trim();if(!ze(t))return Ae();try{const o=await g.post(Ie,{email:t});if(o.status>=200&&o.status<300){const s=o.data.message;a.success({title:"OK",message:s,color:"white",position:"center"})}else throw new Error}catch(o){a.error({title:"Error",message:o.response.data.message,position:"center",backgroundColor:"gray"})}finally{Te.value=""}}const ze=e=>/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/.test(e),Ae=()=>{a.info({title:"",message:"Please give us a valid email.",color:"white",position:"center"})},xe=100,S=document.querySelector(".skroll-btn"),$e=()=>window.scrollY||document.documentElement.scrollTop;window.addEventListener("scroll",()=>{$e()>xe?S.classList.add("skroll-btn-active"):S.classList.remove("skroll-btn-active")});S.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const l=[{text:"One-Month Membership",color:"rgba(232, 232, 232, 1)"},{text:"Personal Training Session",color:"rgb(126, 133, 127)"},{text:"Fitness Bracelet",color:"rgba(232, 232, 232, 1)"},{text:"25% Off Certificate",color:"rgb(126, 133, 127)"},{text:"$50 Gift Card",color:"rgba(232, 232, 232, 1)"},{text:"10% Off Certificate",color:"rgb(126, 133, 127)"},{text:"$30 Gift Card",color:"rgba(232, 232, 232, 1)"},{text:"Participation in Marathon",color:"rgb(126, 133, 127)"}],d=document.querySelector(".deal-wheel"),u=d.querySelector(".spinner"),z=d.querySelector(".btn-spin"),k=d.querySelector(".ticker"),Ce=document.querySelector(".get-prize-container"),T=360/l.length,Oe=Math.floor(180/l.length),U="is-spinning",H="selected",Re=window.getComputedStyle(u);let j,m=0,A=0,I;const De=()=>{l.forEach(({text:e,color:t,reaction:o},s)=>{const r=T*s*-1-Oe;u.insertAdjacentHTML("beforeend",`<li class="prize" data-reaction=${o} style="--rotate: ${r}deg">
        <span class="text">${e}</span>
      </li>`)})},Ne=()=>{u.setAttribute("style",`background: conic-gradient(
      from -90deg,
      ${l.map(({color:e},t)=>`${e} 0 ${100/l.length*(l.length-t)}%`).reverse()}
    );`)},Fe=()=>{Ne(),De(),I=d.querySelectorAll(".prize")},Ue=(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e),V=()=>{const e=Re.transform.split("(")[1].split(")")[0].split(","),t=e[0],o=e[1];let s=Math.atan2(o,t);s<0&&(s+=2*Math.PI);const r=Math.round(s*(180/Math.PI)),n=Math.floor(r/T);A!==n&&(k.style.animation="none",setTimeout(()=>k.style.animation=null,10),A=n),j=requestAnimationFrame(V)},He=()=>{const e=Math.floor(m/T);I[e].classList.add(H);const t=l[e].text;setTimeout(()=>{d.style.display="none",introMessagePrize.style.display="none",congratulationsMessage.style.display="block",document.getElementById("congratulationMessage").innerHTML="Congratulations!",document.getElementById("congratulationMessage1").innerHTML=" You've won: ",document.getElementById("prizeMessage").innerText=t,Ce.style.display="block"},3e3)};z.addEventListener("click",()=>{z.disabled=!0,m=Math.floor(Math.random()*360+Ue(2e3,5e3)),I.forEach(e=>e.classList.remove(H)),d.classList.add(U),u.style.setProperty("--rotate",m),k.style.animation="none",V()});u.addEventListener("transitionend",()=>{cancelAnimationFrame(j),m%=360,He(),d.classList.remove(U),u.style.setProperty("--rotate",m)});Fe();const je=document.querySelector("#prizeForm");document.querySelector(".input-get");je.addEventListener("submit",Ve);async function Ve(e){e.preventDefault();const t=e.currentTarget.elements.prizeInput.value.trim();if(!Qe(t))return We()}const Qe=e=>/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/.test(e),We=()=>{a.info({title:"",message:"Please give us a valid email.",color:"white",position:"center"})};var P=document.getElementById("myModalPrize"),Ge=document.getElementById("openModalBtnPrize");Ge.onclick=function(){P.style.display="flex"};function Q(){P.style.display="none"}window.onclick=function(e){e.target==P&&Q()};var _e=document.getElementById("closeModalPrize");_e.onclick=function(){Q()};document.addEventListener("DOMContentLoaded",function(){function e(){var s=document.getElementById("email-prize").value,r=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!r.test(s)){a.error({title:"Error",message:"Enter a valid email!",zIndex:1001,timeout:2e3,backgroundColor:"white",color:"black",iconColor:"black"});return}a.success({title:"Success",message:"Form submitted!",zIndex:1001,timeout:2e3,backgroundColor:"white",color:"black",iconColor:"black"}),setTimeout(function(){t()},1e3)}function t(){var s=document.getElementById("myModalPrize");s.style.display="none"}var o=document.querySelector(".button-get");o.addEventListener("click",e)});const i={modalBackdrop:document.querySelector(".js-backdrop-modal"),closeBtn:document.querySelector(".js-rating-close"),form:document.querySelector(".js-rating-form"),rateStars:document.querySelector(".js-stars-list"),rateValue:document.querySelector(".js-rating-data"),star:document.querySelectorAll(".js-rating-star")};let W=0;window.addEventListener("click",y);document.addEventListener("keydown",Ye);i.closeBtn.addEventListener("click",Ke);i.form.addEventListener("submit",G);i.rateStars.addEventListener("click",Je);function y(e){e.target.classList.contains("backdrop")&&(i.modalBackdrop.classList.remove("is-hidden"),window.removeEventListener("click",y))}function Ke(e){e.currentTarget&&(i.modalBackdrop.classList.add("is-hidden"),window.removeEventListener("click",y))}function Ye(e){e.code==="Escape"&&(i.modalBackdrop.classList.add("is-hidden"),window.removeEventListener("click",y))}function Je(e){let t=e.target,o=i.rateStars.querySelector(".star-active");t.classList.add("star-active"),o&&o.classList.remove("star-active"),setTimeout(()=>{i.rateValue.textContent=`${t.dataset.rate}.0`},0),W=t.dataset.rate}function G(e){e.preventDefault(),console.log({rating:W,email:e.target.elements.email.value,comment:e.target.elements.comment.value}),i.modalBackdrop.classList.remove("is-hidden"),i.form.removeEventListener("submit",G)}
//# sourceMappingURL=main-0333b295.js.map
