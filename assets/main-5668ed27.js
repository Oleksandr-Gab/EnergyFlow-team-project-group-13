import{T as ee,i as a,a as f}from"./vendor-29bef8ec.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();const w=document.querySelector("[data-menu-open]"),B=document.querySelector("[data-menu-close]"),N=document.querySelector(".nav"),te=document.querySelector('[data-action="homepage"]'),re=document.querySelector('[data-action="favoritespage"]'),P=document.querySelector(".menu-back-drop"),H=document.body,oe=document.querySelector(".header"),ne=window.location.href;ne.includes("favorite")&&(te.classList.remove("current"),re.classList.add("current"),oe.style.position="static");document.addEventListener("keydown",e=>{e.key==="Escape"&&I()});B.addEventListener("click",I);w.addEventListener("click",()=>{N.classList.add("active"),w.classList.add("is-hidden"),B.classList.remove("is-hidden"),H.classList.add("lock"),P.classList.add("active")});function I(){N.classList.remove("active"),w.classList.remove("is-hidden"),B.classList.add("is-hidden"),H.classList.remove("lock"),P.classList.remove("active")}P.addEventListener("click",se);function se(e){e.target.classList.contains("menu-back-drop")&&I()}const ae=document.querySelector(".quote-info"),F="quote-of-the-day",k="date",ie=new Date,M=ie.getDate();async function ce(){try{const r=(await f.create({baseURL:"https://energyflow.b.goit.study/api"}).get("/quote")).data;U(r),le(r,M)}catch(e){a.error({timeout:5e3,title:"Error",message:e.message,position:"topRight"})}}//! SAVE QUOTE AND DATA
function le(e,t){localStorage.setItem(F,JSON.stringify(e)),localStorage.setItem(k,t)}//! RENDER QUOTE
function U(e){const t=[e];ae.innerHTML=t.reduce((r,{quote:o,author:n})=>r+`<p class="quote-text">${o}</p>
        <h3 class="quote-author">${n}</h3>`,"")}async function de(){const e=localStorage.getItem(k);if(isNaN(e)){a.error({timeout:5e3,title:"Error",message:error.message,position:"topRight"});return}if(parseInt(e)===M){const t=localStorage.getItem(F);if(t){const r=JSON.parse(t);U(r)}return}await ce(),localStorage.setItem(k,M.toString())}de();new ee("#quote",{speed:50,waitUntilVisible:!0}).go();const ue=document.querySelector(".filter-list"),A=document.querySelector(".gallery"),v=document.querySelector(".pagination-btn");let O;const j=document.querySelector('button[name="Muscles"]');document.addEventListener("DOMContentLoaded",async()=>{await x({filter:"Muscles"}),j.classList.add("active")});const me=async(e,t,r)=>{console.log(e,t,r);try{return O=await f.create({baseURL:"https://energyflow.b.goit.study/api",params:{filter:e,page:t,limit:r}}).get("/filters"),O}catch(o){console.error(o),a.error({message:o.message,color:"red",position:"topCenter"})}};ue.addEventListener("click",e=>{e.preventDefault(),A.innerHTML="",v.innerHTML="",e.target.tagName==="BUTTON"&&(j.classList.remove("active"),x({filter:e.target.name}))});v.addEventListener("click",()=>{event.preventDefault(),event.target.tagName==="BUTTON"&&(v.innerHTML="",A.innerHTML="",x({filter:event.target.name,page:event.target.id}))});async function x({filter:e,page:t=1,limit:r=12}){try{const o=await me(e,t,r),n=()=>{const p=o.data.totalPages;let l="";for(let d=1;d<=p;d++)l+=`<button id="${d}" class="pg-num-btn" type="button" name="${e}"
 >${d}</button>`;return l},s=o.data.results.reduce((p,{name:l,filter:d,imgUrl:E})=>p+`<li class="gallery-item" id=${l}>
           <div class="card">
            <a class="gallery-link" href="${E}">
             <img class="gallery-image"
             src="${E}"
             alt="${d}"
             style = "background: linear-gradient(0deg, rgba(16, 16, 16, 0.70) 0%, rgba(16, 16, 16, 0.70) 100%), url("${E}"), lightgray 1.925px -135.663px / 106.102% 202.346% no-repeat;"
            />
            </a>
            </div>
            <div class="card-description">
            <p class="name-description">${l}</p>
            <p class="filter-description">${d}</p>
          </li>`,""),c=n();v.insertAdjacentHTML("afterbegin",c),A.insertAdjacentHTML("afterbegin",s)}catch(o){console.error(o),a.error({message:o.message,color:"red",position:"topCenter"})}}document.getElementById("exerciseModal");document.getElementById("closeModalBtn");document.getElementById("addToFavoritesBtn");document.getElementById("giveRatingBtn");document.getElementById("information");const V=document.querySelector(".gallery"),h=document.querySelector(".waist"),ge=innerWidth;console.log(ge);const pe=f.create({baseURL:"https://energyflow.b.goit.study/api",params:{page:"1",limit:"8"}}),ye=async e=>await pe.get(e);function fe(){V.innerHTML="",h.innerHTML="",h.classList.add("information-cards"),ye("/exercises").then(e=>{ve(e.data.results)}).catch(e=>{a.error({message:e,position:"topRight"})})}V.addEventListener("click",fe);h.addEventListener("click",e=>{console.log("hi"),console.log(e.target.id)});function ve(e){h.insertAdjacentHTML("afterbegin",e.reduce((t,{burnedCalories:r,name:o,bodyPart:n,rating:s,time:c,target:p,_id:l})=>t+`<li class="gallery-card" id="${l}">
      <div class="header-card">
        <div class="workout">WORKOUT</div>
        <div class="rating">
            <p>${s}</p>
            <svg class="icon-star" width="12" height="12">
                <use href="../img/sprite.svg#icon-star"></use>
            </svg>
        </div>
                 
        <div class="workout-btn-container">
            <button class="workout-btn">Start</button>
            <svg class="icon-right" width="14" height="16">
                <use href="../img/sprite.svg#icon-right"></use>
            </svg>
        </div>
      </div>

      <div class="title-card">
          <div class="icon-card">
              <svg class="run" width="24" height="24">
                  <use href="../img/sprite.svg#run"></use>
              </svg>
          </div>
          <h3>${o}</h3>
      </div>

      <ul class="params-card">
            <li class="calories"><span class="params-text">Burned calories:</span> ${r}/${c}min</li>
            <li class="body-part"><span class="params-text">Body part:</span> ${n}</li>
            <li class="target"><span class="params-text">Target:</span> ${p}</li>
      </ul>
    </li>`,""))}const he=document.querySelector(".search-block"),Le=document.querySelector(".custom-pagination-btn"),S=document.querySelectorAll(".render-pagination-btn"),be=f.create({baseURL:"https://energyflow.b.goit.study/api/"}),Ee={fetchFilters:async e=>{try{return(await be.get("filters",{params:e})).data.results}catch(t){console.error(t),Se(t)}}},Se=e=>{throw a.error({title:"API Error",message:"An error occurred while fetching data from the API."}),e},we=async e=>{try{return(await Ee.fetchFilters({...e})).map(ke).join("")}catch(t){return console.error(t),Q(),""}},ke=e=>`<li class="render-page-one-item" data-name="${e.name}">
            <img src="${e.imgUrl}" alt="" />
            <div class="render-page-one-img-container">
              <p class="render-page-one-item-title">${e.name}</p>
              <p class="render-page-one-item-zones">${e.filter}</p>
            </div>
          </li>`,Q=()=>{a.error({title:"Rendering Error",message:"An error occurred while rendering data."})},Me=async e=>{try{const t=await e;he.innerHTML=t}catch(t){console.error(t),Q()}},qe=e=>{const t=parseInt(e.dataset.btn)===3?1:-1;S.forEach(r=>{r.textContent=parseInt(r.textContent)+t}),S[0].style.display=L.page>1?"block":"none",S[2].style.display=L.page>=Pe-1?"none":"block"},Te=e=>{e.target.nodeName==="BUTTON"&&(L.page=parseInt(e.target.textContent),Me(we(L)),qe(e.target))},Be=getComputedStyle(document.querySelector("body")).width,W=Be<768?8:12,L={limit:W,page:1},Pe=69/W;Le.addEventListener("click",Te);const Ie=document.querySelector(".footer-form"),Ae=document.querySelector(".footer-form-input"),xe="https://energyflow.b.goit.study/api/subscription";Ie.addEventListener("submit",ze);async function ze(e){e.preventDefault();const t=e.currentTarget.elements.footerInput.value.trim();if(!$e(t))return Ce();try{const r=await f.post(xe,{email:t});if(r.status>=200&&r.status<300){const o=r.data.message;a.success({title:"OK",message:o,color:"white",position:"center"})}else throw new Error}catch(r){a.error({title:"Error",message:r.response.data.message,position:"center",backgroundColor:"gray"})}finally{Ae.value=""}}const $e=e=>/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/.test(e),Ce=()=>{a.info({title:"",message:"Please give us a valid email.",color:"white",position:"center"})},Oe=100,q=document.querySelector(".skroll-btn"),De=()=>window.scrollY||document.documentElement.scrollTop;window.addEventListener("scroll",()=>{De()>Oe?q.classList.add("skroll-btn-active"):q.classList.remove("skroll-btn-active")});q.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const u=[{text:"One-Month Membership",color:"rgba(232, 232, 232, 1)"},{text:"Personal Training Session",color:"rgb(126, 133, 127)"},{text:"Fitness Bracelet",color:"rgba(232, 232, 232, 1)"},{text:"25% Off Certificate",color:"rgb(126, 133, 127)"},{text:"$50 Gift Card",color:"rgba(232, 232, 232, 1)"},{text:"10% Off Certificate",color:"rgb(126, 133, 127)"},{text:"$30 Gift Card",color:"rgba(232, 232, 232, 1)"},{text:"Participation in Marathon",color:"rgb(126, 133, 127)"}],m=document.querySelector(".deal-wheel"),g=m.querySelector(".spinner"),D=m.querySelector(".btn-spin"),T=m.querySelector(".ticker"),Re=document.querySelector(".get-prize-container"),z=360/u.length,Ne=Math.floor(180/u.length),G="is-spinning",_="selected",He=window.getComputedStyle(g);let K,y=0,R=0,$;const Fe=()=>{u.forEach(({text:e,color:t,reaction:r},o)=>{const n=z*o*-1-Ne;g.insertAdjacentHTML("beforeend",`<li class="prize" data-reaction=${r} style="--rotate: ${n}deg">
        <span class="text">${e}</span>
      </li>`)})},Ue=()=>{g.setAttribute("style",`background: conic-gradient(
      from -90deg,
      ${u.map(({color:e},t)=>`${e} 0 ${100/u.length*(u.length-t)}%`).reverse()}
    );`)},je=()=>{Ue(),Fe(),$=m.querySelectorAll(".prize")},Ve=(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e),Y=()=>{const e=He.transform.split("(")[1].split(")")[0].split(","),t=e[0],r=e[1];let o=Math.atan2(r,t);o<0&&(o+=2*Math.PI);const n=Math.round(o*(180/Math.PI)),s=Math.floor(n/z);R!==s&&(T.style.animation="none",setTimeout(()=>T.style.animation=null,10),R=s),K=requestAnimationFrame(Y)},Qe=()=>{const e=Math.floor(y/z);$[e].classList.add(_);const t=u[e].text;setTimeout(()=>{m.style.display="none",introMessagePrize.style.display="none",congratulationsMessage.style.display="block",document.getElementById("congratulationMessage").innerHTML="Congratulations!",document.getElementById("congratulationMessage1").innerHTML=" You've won: ",document.getElementById("prizeMessage").innerText=t,Re.style.display="block"},3e3)};D.addEventListener("click",()=>{D.disabled=!0,y=Math.floor(Math.random()*360+Ve(2e3,5e3)),$.forEach(e=>e.classList.remove(_)),m.classList.add(G),g.style.setProperty("--rotate",y),T.style.animation="none",Y()});g.addEventListener("transitionend",()=>{cancelAnimationFrame(K),y%=360,Qe(),m.classList.remove(G),g.style.setProperty("--rotate",y)});je();const We=document.querySelector("#prizeForm");document.querySelector(".input-get");We.addEventListener("submit",Ge);async function Ge(e){e.preventDefault();const t=e.currentTarget.elements.prizeInput.value.trim();if(!_e(t))return Ke()}const _e=e=>/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/.test(e),Ke=()=>{a.info({title:"",message:"Please give us a valid email.",color:"white",position:"center"})};var C=document.getElementById("myModalPrize"),Ye=document.getElementById("openModalBtnPrize");Ye.onclick=function(){C.style.display="flex"};function J(){C.style.display="none"}window.onclick=function(e){e.target==C&&J()};var Je=document.getElementById("closeModalPrize");Je.onclick=function(){J()};document.addEventListener("DOMContentLoaded",function(){function e(){var o=document.getElementById("email-prize").value,n=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!n.test(o)){a.error({title:"Error",message:"Enter a valid email!",zIndex:1001,timeout:2e3,backgroundColor:"white",color:"black",iconColor:"black"});return}a.success({title:"Success",message:"Form submitted!",zIndex:1001,timeout:2e3,backgroundColor:"white",color:"black",iconColor:"black"}),setTimeout(function(){t()},1e3)}function t(){var o=document.getElementById("myModalPrize");o.style.display="none"}var r=document.querySelector(".button-get");r.addEventListener("click",e)});const i={modalBackdrop:document.querySelector(".js-backdrop-modal"),closeBtn:document.querySelector(".js-rating-close"),form:document.querySelector(".js-rating-form"),rateStars:document.querySelector(".js-stars-list"),rateValue:document.querySelector(".js-rating-data"),star:document.querySelectorAll(".js-rating-star")};let Z=0;window.addEventListener("click",b);document.addEventListener("keydown",Xe);i.closeBtn.addEventListener("click",Ze);i.form.addEventListener("submit",X);i.rateStars.addEventListener("click",et);function b(e){e.target.classList.contains("backdrop")&&(i.modalBackdrop.classList.remove("is-hidden"),window.removeEventListener("click",b))}function Ze(e){e.currentTarget&&(i.modalBackdrop.classList.add("is-hidden"),window.removeEventListener("click",b))}function Xe(e){e.code==="Escape"&&(i.modalBackdrop.classList.add("is-hidden"),window.removeEventListener("click",b))}function et(e){let t=e.target,r=i.rateStars.querySelector(".star-active");t.classList.add("star-active"),r&&r.classList.remove("star-active"),setTimeout(()=>{i.rateValue.textContent=`${t.dataset.rate}.0`},0),Z=t.dataset.rate}function X(e){e.preventDefault(),console.log({rating:Z,email:e.target.elements.email.value,comment:e.target.elements.comment.value}),i.modalBackdrop.classList.remove("is-hidden"),i.form.removeEventListener("submit",X)}
//# sourceMappingURL=main-5668ed27.js.map
