{"version":3,"file":"commonHelpers2.js","sources":["../src/js/exercises.js","../src/js/exercisesWaist.js","../src/js/footer.js","../src/js/prize.js"],"sourcesContent":["// для додавання 'npm install axios'\nimport axios from 'axios';\n// для додавання 'npm install izitoast --save'\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst FILTER_LIST = document.querySelector('.filter-list');\nconst GALLERY = document.querySelector('.gallery');\nconst PAGES_LIST = document.querySelector('.pagination-btn');\nconst WAIST = document.querySelector('.waist');\n\n//create instance of API\nexport const API_BASE_URL = axios.create({\n  baseURL: 'https://energyflow.b.goit.study/api',\n});\n\nexport let exercisesData;\n\n//button MUSCLES active by default\nconst MUSCLES_BUTTON = document.querySelector('button[name=\"Muscles\"]');\nlet pagesButton;\n\n// слухач на завантаження сторінки та виклик функції з обраним фільтром за default\ndocument.addEventListener('DOMContentLoaded', async () => {\n  await callApiWithQuery({ filter: 'Muscles' });\n  //відображати активні кнопки\n  MUSCLES_BUTTON.classList.add('active');\n  pagesButton = document.querySelector('.pg-num-btn');\n  pagesButton.classList.add('pg-num-btn-active');\n});\n\n//функція запиту на DATA\nexport const getExercisesData = async ({ filter, page, limit }) => {\n  try {\n    exercisesData = await API_BASE_URL.get('/filters', {\n      params: { filter: filter, page: page, limit: limit },\n    });\n    return exercisesData;\n  } catch (error) {\n    console.error(error);\n    iziToast.error({\n      message: error.message,\n      color: 'red',\n      position: 'topCenter',\n    });\n  }\n};\n\n//делегування слухача на FILTER_LIST\nFILTER_LIST.addEventListener('click', event => {\n  event.preventDefault();\n  //очищення карток та сторінок\n  GALLERY.innerHTML = '';\n  PAGES_LIST.innerHTML = '';\n  WAIST.innerHTML = '';\n  // document.removeEventListener('DOMContentLoaded');\n  if (event.target.tagName === 'BUTTON') {\n    MUSCLES_BUTTON.classList.remove('active');\n    // PAGES_BUTTON.classList.remove('pg-num-btn-active');\n\n    //виклик функції з обраним користувачем значенням фільтра\n    callApiWithQuery({ filter: event.target.name });\n  }\n});\n\n//делегування слухача на PAGES_LIST\nPAGES_LIST.addEventListener('click', event => {\n  event.preventDefault();\n\n  // гортання сторінок\n  if (event.target.tagName === 'BUTTON') {\n    PAGES_LIST.innerHTML = '';\n    GALLERY.innerHTML = '';\n    callApiWithQuery({ filter: event.target.name, page: event.target.id });\n  }\n});\n\n// пагінація та генерація розмітки\nasync function callApiWithQuery({ filter, page = 1, limit = 12 }) {\n  try {\n    const renderExercises = await getExercisesData({ filter, page, limit });\n    const quantityBtnPgs = () => {\n      const totalPages = renderExercises.data.totalPages;\n      let markupBtnPgs = '';\n      for (let i = 1; i <= totalPages; i++) {\n        markupBtnPgs += `<button id=\"${i}\" class=\"pg-num-btn\" type=\"button\" name=\"${filter}\"\n >${i}</button>`;\n      }\n      return markupBtnPgs;\n    };\n\n    const imgs = renderExercises.data.results.reduce(\n      (html, { name, filter, imgUrl }) =>\n        html +\n        `<li class=\"gallery-item\" id=${name}>\n          <div class=\"card\" >            \n             <img class=\"gallery-image\"\n             src=\"${imgUrl}\"\n             alt=\"${filter}\"            \n            />            \n            </div>\n            <div class=\"card-description\">\n            <p class=\"name-description\" id=\"${filter}:${name}\">${name}</p>\n            <p class=\"filter-description\">${filter}</p>\n            </div>\n          </li>`,\n      ''\n    );\n    const markupBtnPgs = quantityBtnPgs();\n\n    PAGES_LIST.insertAdjacentHTML('afterbegin', markupBtnPgs);\n    GALLERY.insertAdjacentHTML('afterbegin', imgs);\n  } catch (error) {\n    console.error(error);\n    iziToast.error({\n      message: error.message,\n      color: 'red',\n      position: 'topCenter',\n    });\n  }\n}\n","import { openModal } from './modal-pop-up';\n\nimport axios from 'axios';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { activeModalBtn } from './modal-pop-up.js';\n\n//  -------Текст при відсутності вправи ------\nconst partError =\n  'Unfortunately, no results were found. You may want to consider other search options to find the exercise you are looking for. Our range is wide and you have the opportunity to find more options that suit your needs.';\n// ------------------------------------------------\n\nconst galleryDalley = document.querySelector('.gallery');\nconst sectionTitle = document.querySelector('.section-title');\nconst titleSlash = document.querySelector('#slash');\nconst galleryWaist = document.querySelector('.waist');\nconst searchPart = document.querySelector('#search');\nconst viewportWidth = innerWidth;\n\n// -------- Екземпляр AXIOS ------------------------------------\nconst apiWaist = axios.create({\n  baseURL: 'https://energyflow.b.goit.study/api',\n});\n\n// ----- Функція запиту -----------------------------\nconst fetchExercises = async (lastString, { params }) => {\n  const exercises = await apiWaist.get(lastString, {\n    params,\n  });\n  return exercises;\n};\n\ngalleryDalley.addEventListener('click', event => {\n  event.preventDefault();\n\n  galleryWaist.innerHTML = '';\n  galleryDalley.innerHTML = '';\n\n  searchPart.style.display = 'block';\n  galleryWaist.classList.add('information-cards');\n\n  // ---------------- Костиль ----------------------\n  const paramObj = event.target.id;\n  const paramArr = paramObj.split(':');\n  apiWaist.defaults.params = {\n    limit: viewportWidth > 1400 ? '9' : '8',\n    muscles: paramArr[0] === 'Muscles' ? paramArr[1] : null,\n    bodypart: paramArr[0] === 'Body parts' ? paramArr[1] : null,\n    equipment: paramArr[0] === 'Equipment' ? paramArr[1] : null,\n  };\n  // ------------------------------------------------\n  sectionTitle.insertAdjacentHTML(\n    'beforeend',\n    `<p id=\"slash\">&#8260;<span class=\"title-span\">${paramArr[1]}</span></p>`\n  );\n  console.log(sectionTitle);\n  fetchExercises('/exercises', {\n    params: {\n      // limit: '8',\n    },\n  })\n    .then(response => {\n      // console.log(response.data.results);\n      renderExercises(response.data.results);\n      // console.log(titleSlash);\n    })\n    .catch(error => {\n      iziToast.error({\n        message: error.message,\n        position: 'topRight',\n      });\n    });\n});\n\n// -----------------------------------------------------------\n\n// ----- Пошук вправи за інпутом -----------------------------\n\nlet partName;\nlet typingTimer;\nsearchPart.addEventListener('input', event => {\n  clearTimeout(typingTimer);\n\n  typingTimer = setTimeout(function () {\n    partName = searchPart.value;\n    console.log(partName);\n  }, 1000);\n\n  searchBlock.addEventListener('click', event => {\n    console.log(partName.toLowerCase());\n\n    if (partName.trim() !== 'input-value') {\n      galleryDalley.innerHTML = `<div class=\"errorEmageContainer\">${partError}</div>`;\n      return;\n    }\n    apiWaist.defaults.params = {\n      limit: viewportWidth > 1400 ? '9' : '8',\n    };\n    fetchExercises('/exercises', {\n      params: {\n        keyword: event.target.value,\n      },\n    })\n      .then(response => {\n        console.log(response.data);\n        renderExercises(response.data.results);\n      })\n      .catch(error => {\n        iziToast.error({\n          message: error.message,\n          position: 'topRight',\n        });\n      });\n  });\n});\n\nfunction renderExercises(arr) {\n  galleryWaist.insertAdjacentHTML(\n    'afterbegin',\n    arr.reduce(\n      (html, { burnedCalories, name, bodyPart, rating, time, target, _id }) =>\n        html +\n        `<li class=\"gallery-card\">\n      <div class=\"header-card\">\n        <div class=\"workout\">WORKOUT</div>\n        <div class=\"rating\">\n            <p>${rating}</p>\n            <svg class=\"icon-star\" width=\"12\" height=\"12\">\n                <use href=\"../img/sprite.svg#icon-star\"></use>\n            </svg>\n        </div>\n                 \n        <div class=\"workout-btn-container\" data-action=\"right\">\n            <button class=\"workout-btn\" id=\"${_id}\">Start\n            <svg class=\"icon-right\" width=\"14\" height=\"16\">\n                <use href=\"../img/sprite.svg#icon-right\"></use>\n            </svg>\n            </button>\n        </div>\n      </div>\n\n      <div class=\"title-card\">\n          <div class=\"icon-card\">\n              <svg class=\"run\" width=\"24\" height=\"24\">\n                  <use href=\"../img/sprite.svg#run\"></use>\n              </svg>\n          </div>\n          <h3>${name}</h3>\n      </div>\n\n      <ul class=\"params-card\">\n            <li class=\"calories\"><span class=\"params-text\">Burned calories:</span> ${burnedCalories}/${time}min</li>\n            <li class=\"body-part\"><span class=\"params-text\">Body part:</span> ${bodyPart}</li>\n            <li class=\"target\"><span class=\"params-text\">Target:</span> ${target}</li>\n      </ul>\n    </li>`,\n      ''\n    )\n  );\n  activeModalBtn();\n}\n\n// ------------------------------------------------------------------------------\n\n// !!!!!!!!!!!!!!!!!! НЕ ПИШИ В ЦЬОМУ ФАЙЛІ !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\n// galleryWaist.addEventListener('click', event => {\n//   event.preventDefault();\n\n// ---- ПИШИ В ІНШОМУ ФАЙЛІ -----------------------------\n\n//   const galleryCard = event.target.closest('.gallery-card');\n//   if (galleryCard) {\n//     const cardId = galleryCard.dataset.id;\n//     openModal();\n//   }\n// });\n\n// !!!!!!!!!!!!!!!!!! НЕ ПИШИ В ЦЬОМУ ФАЙЛІ !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst footerform = document.querySelector('.footer-form');\nconst footerInput = document.querySelector('.footer-form-input');\n\nconst baseURL = 'https://energyflow.b.goit.study/api/subscription';\n\nfooterform.addEventListener(\"submit\", handleSubmit);\n\nasync function handleSubmit(event) {\n    event.preventDefault();\n    \n    const footerEmailValue = event.currentTarget.elements.footerInput.value.trim();\n    if (!validateEmail(footerEmailValue)) {\n        return messageValidEmail();\n    }; \n\n    \n    try {\n        const response = await axios.post(baseURL, {\n            email: footerEmailValue\n        });\n\n        if (response.status >= 200 && response.status < 300) {\n            const successMessage = response.data.message;\n            iziToast.success({\n                title: 'OK',\n                message: successMessage,\n                color: 'white',\n                position: 'center'\n            });\n            \n        } else {\n            throw new Error();\n        }\n\n    } catch (error) {\n        iziToast.error({\n            title: 'Error',\n            message: error.response.data.message,\n            position: 'center',\n            backgroundColor: 'gray',\n        });\n    } finally {\n        footerInput.value = ''\n    }\n}\n\n\n\n\nconst validateEmail = (email) => {\n    const pattern = /^[\\w-]+(\\.[\\w-]+)*@([\\w-]+\\.)+[a-zA-Z]{2,7}$/;\n    return pattern.test(email);\n}\n\nconst messageValidEmail = () => {\n    iziToast.info({\n        title: '',\n        message: \"Please give us a valid email.\",\n        color: 'white',\n        position: 'center'\n    });\n}","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst prizes = [\n  {\n    text: 'One-Month Membership',\n    color: 'rgba(232, 232, 232, 1)',\n  },\n  {\n    text: 'Personal Training Session',\n    color: 'rgb(126, 133, 127)',\n  },\n  {\n    text: 'Fitness Bracelet',\n    color: 'rgba(232, 232, 232, 1)',\n  },\n  {\n    text: '25% Off Certificate',\n    color: 'rgb(126, 133, 127)',\n  },\n  {\n    text: '$50 Gift Card',\n    color: 'rgba(232, 232, 232, 1)',\n  },\n  {\n    text: '10% Off Certificate',\n    color: 'rgb(126, 133, 127)',\n  },\n  {\n    text: '$30 Gift Card',\n    color: 'rgba(232, 232, 232, 1)',\n  },\n  {\n    text: 'Participation in Marathon',\n    color: 'rgb(126, 133, 127)',\n  },\n];\n\n// создаём переменные для быстрого доступа ко всем объектам на странице — блоку в целом, колесу, кнопке и язычку\nconst wheel = document.querySelector('.deal-wheel');\nconst spinner = wheel.querySelector('.spinner');\nconst trigger = wheel.querySelector('.btn-spin');\nconst ticker = wheel.querySelector('.ticker');\nconst getPrize = document.querySelector('.get-prize-container');\n\n// на сколько секторов нарезаем круг\nconst prizeSlice = 360 / prizes.length;\n// на какое расстояние смещаем сектора друг относительно друга\nconst prizeOffset = Math.floor(180 / prizes.length);\n// прописываем CSS-классы, которые будем добавлять и убирать из стилей\nconst spinClass = 'is-spinning';\nconst selectedClass = 'selected';\n// получаем все значения параметров стилей у секторов\nconst spinnerStyles = window.getComputedStyle(spinner);\n\n// переменная для анимации\nlet tickerAnim;\n// угол вращения\nlet rotation = 0;\n// текущий сектор\nlet currentSlice = 0;\n// переменная для текстовых подписей\nlet prizeNodes;\n\n// расставляем текст по секторам\nconst createPrizeNodes = () => {\n  // обрабатываем каждую подпись\n  prizes.forEach(({ text, color, reaction }, i) => {\n    // каждой из них назначаем свой угол поворота\n    const rotation = prizeSlice * i * -1 - prizeOffset;\n    // добавляем код с размещением текста на страницу в конец блока spinner\n    spinner.insertAdjacentHTML(\n      'beforeend',\n      // текст при этом уже оформлен нужными стилями\n      `<li class=\"prize\" data-reaction=${reaction} style=\"--rotate: ${rotation}deg\">\n        <span class=\"text\">${text}</span>\n      </li>`\n    );\n  });\n};\n\n// рисуем разноцветные секторы\nconst createConicGradient = () => {\n  // устанавливаем нужное значение стиля у элемента spinner\n  spinner.setAttribute(\n    'style',\n    `background: conic-gradient(\n      from -90deg,\n      ${prizes\n        // получаем цвет текущего сектора\n        .map(\n          ({ color }, i) =>\n            `${color} 0 ${(100 / prizes.length) * (prizes.length - i)}%`\n        )\n        .reverse()}\n    );`\n  );\n};\n\n// создаём функцию, которая нарисует колесо в сборе\nconst setupWheel = () => {\n  // сначала секторы\n  createConicGradient();\n  // потом текст\n  createPrizeNodes();\n  // а потом мы получим список всех призов на странице, чтобы работать с ними как с объектами\n  prizeNodes = wheel.querySelectorAll('.prize');\n};\n\n// определяем количество оборотов, которое сделает наше колесо\nconst spinertia = (min, max) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\n\n// функция запуска вращения с плавной остановкой\nconst runTickerAnimation = () => {\n  // взяли код анимации отсюда: https://css-tricks.com/get-value-of-css-rotation-through-javascript/\n  const values = spinnerStyles.transform.split('(')[1].split(')')[0].split(',');\n  const a = values[0];\n  const b = values[1];\n  let rad = Math.atan2(b, a);\n\n  if (rad < 0) rad += 2 * Math.PI;\n\n  const angle = Math.round(rad * (180 / Math.PI));\n  const slice = Math.floor(angle / prizeSlice);\n\n  // анимация язычка, когда его задевает колесо при вращении\n  // если появился новый сектор\n  if (currentSlice !== slice) {\n    // убираем анимацию язычка\n    ticker.style.animation = 'none';\n    // и через 10 миллисекунд отменяем это, чтобы он вернулся в первоначальное положение\n    setTimeout(() => (ticker.style.animation = null), 10);\n    // после того, как язычок прошёл сектор - делаем его текущим\n    currentSlice = slice;\n  }\n  // запускаем анимацию\n  tickerAnim = requestAnimationFrame(runTickerAnimation);\n};\n\n// функция выбора призового сектора\nconst selectPrize = () => {\n  const selected = Math.floor(rotation / prizeSlice);\n  prizeNodes[selected].classList.add(selectedClass);\n  const selectedPrize = prizes[selected].text;\n\n  setTimeout(() => {\n    // ховаємо колесо\n    wheel.style.display = 'none';\n    introMessagePrize.style.display = 'none';\n\n    congratulationsMessage.style.display = 'block';\n    document.getElementById('congratulationMessage').innerHTML =\n      'Congratulations!';\n    document.getElementById('congratulationMessage1').innerHTML =\n      \" You've won: \";\n    document.getElementById('prizeMessage').innerText = selectedPrize;\n    // показуємо форму\n    getPrize.style.display = 'block';\n  }, 3000);\n};\n\n// отслеживаем нажатие на кнопку\ntrigger.addEventListener('click', () => {\n  // делаем её недоступной для нажатия\n  trigger.disabled = true;\n  // задаём начальное вращение колеса\n  rotation = Math.floor(Math.random() * 360 + spinertia(2000, 5000));\n  // убираем прошлый приз\n  prizeNodes.forEach(prize => prize.classList.remove(selectedClass));\n  // добавляем колесу класс is-spinning, с помощью которого реализуем нужную отрисовку\n  wheel.classList.add(spinClass);\n  // через CSS говорим секторам, как им повернуться\n  spinner.style.setProperty('--rotate', rotation);\n  // возвращаем язычок в горизонтальную позицию\n  ticker.style.animation = 'none';\n  // запускаем анимацию вращение\n  runTickerAnimation();\n});\n\n// отслеживаем, когда закончилась анимация вращения колеса\nspinner.addEventListener('transitionend', () => {\n  // останавливаем отрисовку вращения\n  cancelAnimationFrame(tickerAnim);\n  // получаем текущее значение поворота колеса\n  rotation %= 360;\n  // выбираем приз\n  selectPrize();\n  // убираем класс, который отвечает за вращение\n  wheel.classList.remove(spinClass);\n  // отправляем в CSS новое положение поворота колеса\n  spinner.style.setProperty('--rotate', rotation);\n});\n\n// подготавливаем всё к первому запуску\nsetupWheel();\n\n/* email */\n\nconst prizeform = document.querySelector('#prizeForm');\nconst prizeInput = document.querySelector('.input-get');\n\nprizeform.addEventListener('submit', prizeSubmit);\n\nasync function prizeSubmit(event) {\n  event.preventDefault();\n\n  const prizeEmailValue = event.currentTarget.elements.prizeInput.value.trim();\n  if (!validateEmailPrize(prizeEmailValue)) {\n    return messageValidEmailPrize();\n  }\n}\n\nconst validateEmailPrize = email => {\n  const pattern = /^[\\w-]+(\\.[\\w-]+)*@([\\w-]+\\.)+[a-zA-Z]{2,7}$/;\n  return pattern.test(email);\n};\n\nconst messageValidEmailPrize = () => {\n  iziToast.info({\n    title: '',\n    message: 'Please give us a valid email.',\n    color: 'white',\n    position: 'center',\n  });\n};\n\nvar modal = document.getElementById('myModalPrize');\nvar openModalBtnPrize = document.getElementById('openModalBtnPrize');\n\nopenModalBtnPrize.onclick = function () {\n  modal.style.display = 'flex';\n};\n\nfunction closeModalPrize() {\n  modal.style.display = 'none';\n}\n\nwindow.onclick = function (event) {\n  if (event.target == modal) {\n    closeModalPrize();\n  }\n};\n\nvar closeModalBtnPrize = document.getElementById('closeModalPrize');\n\ncloseModalBtnPrize.onclick = function () {\n  closeModalPrize();\n};\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  // Функція для відправки форми\n  function sendForm() {\n    // Отримуємо значення email\n    var email = document.getElementById('email-prize').value;\n\n    // Перевіряємо, чи є валідний email\n    var emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(email)) {\n      // Якщо не валідний, виводимо повідомлення і виходимо\n      iziToast.error({\n        title: 'Error',\n        message: 'Enter a valid email!',\n        zIndex: 1001,\n        timeout: 2000, // Display for 3 seconds\n        backgroundColor: 'white', // Red background\n        color: 'black', // White text\n        iconColor: 'black', // White icon\n      });\n      return;\n    }\n\n    iziToast.success({\n      title: 'Success',\n      message: 'Form submitted!',\n      zIndex: 1001,\n      timeout: 2000, // Display for 3 seconds\n      backgroundColor: 'white', // Red background\n      color: 'black', // White text\n      iconColor: 'black', // White icon\n    });\n\n    setTimeout(function () {\n      closePrizeModal();\n    }, 1000);\n  }\n\n  // Функція для закриття модального вікна\n  function closePrizeModal() {\n    var modal = document.getElementById('myModalPrize');\n    modal.style.display = 'none';\n  }\n\n  // Додаємо обробник події для кнопки \"Get\"\n  var getButton = document.querySelector('.button-get');\n  getButton.addEventListener('click', sendForm);\n});\n"],"names":["FILTER_LIST","GALLERY","PAGES_LIST","WAIST","API_BASE_URL","axios","exercisesData","MUSCLES_BUTTON","pagesButton","callApiWithQuery","getExercisesData","filter","page","limit","error","iziToast","event","renderExercises","quantityBtnPgs","totalPages","markupBtnPgs","imgs","html","name","imgUrl","partError","galleryDalley","sectionTitle","galleryWaist","searchPart","viewportWidth","apiWaist","fetchExercises","lastString","params","paramArr","response","partName","typingTimer","arr","burnedCalories","bodyPart","rating","time","target","_id","activeModalBtn","footerform","footerInput","baseURL","handleSubmit","footerEmailValue","validateEmail","messageValidEmail","successMessage","email","prizes","wheel","spinner","trigger","ticker","getPrize","prizeSlice","prizeOffset","spinClass","selectedClass","spinnerStyles","tickerAnim","rotation","currentSlice","prizeNodes","createPrizeNodes","text","color","reaction","i","createConicGradient","setupWheel","spinertia","min","max","runTickerAnimation","values","a","b","rad","angle","slice","selectPrize","selected","selectedPrize","prize","prizeform","prizeSubmit","prizeEmailValue","validateEmailPrize","messageValidEmailPrize","modal","openModalBtnPrize","closeModalPrize","closeModalBtnPrize","sendForm","emailRegex","closePrizeModal","getButton"],"mappings":"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"}