import{i as S,a as ae}from"./assets/skroll-btn-3c18cabc.js";import{T as N,i as l,a as L}from"./assets/vendor-29bef8ec.js";const re=document.querySelector(".quote-info"),U="quote-of-the-day",E="date",oe=new Date,w=oe.getDate();async function ie(){try{const n=(await L.create({baseURL:"https://energyflow.b.goit.study/api"}).get("/quote")).data;_(n),le(n,w)}catch(e){l.error({timeout:5e3,title:"Error",message:e.message,position:"topRight"})}}//! SAVE QUOTE AND DATA
function le(e,t){localStorage.setItem(U,JSON.stringify(e)),localStorage.setItem(E,t)}//! RENDER QUOTE
function _(e){const t=[e];re.innerHTML=t.reduce((n,{quote:s,author:i})=>n+`<p class="quote-text">${s}</p>
        <h3 class="quote-author">${i}</h3>`,"")}//! CHECK DAY AND GET NEW QUOTE
async function ce(){const e=localStorage.getItem(E);if(isNaN(e)){l.error({timeout:5e3,title:"Error",message:error.message,position:"topRight"});return}if(parseInt(e)===w){const t=localStorage.getItem(U);if(t){const n=JSON.parse(t);_(n)}return}await ie(),localStorage.setItem(E,w.toString())}ce();//! ANIMATION 
new N("#quote",{speed:26,startDelay:300,waitUntilVisible:!0,afterComplete:function(e){e.destroy()}}).go();new N("#motivation-txt",{speed:26,startDelay:300,waitUntilVisible:!0,afterComplete:function(e){e.destroy()}}).go();const ue=document.querySelector(".waist-pagination"),de=document.querySelector(".filter-list"),k=document.querySelector(".gallery"),b=document.querySelector(".pagination-btn"),W=document.querySelector(".waist"),V=document.querySelector(".field-search-wraper"),F=document.querySelector("#slash"),pe=L.create({baseURL:"https://energyflow.b.goit.study/api"});let C;const ge=document.querySelector('button[name="Muscles"]');document.addEventListener("DOMContentLoaded",async()=>{await H({filter:"Muscles"}),ge.classList.add("filter-active")});const me=async({filter:e,page:t,limit:n})=>{try{return C=await pe.get("/filters",{params:{filter:e,page:t,limit:n}}),C}catch(s){l.error({message:s.message,color:"red",position:"topCenter"})}};de.addEventListener("click",e=>{e.preventDefault(),k.innerHTML="",b.innerHTML="",W.innerHTML="",F.innerHTML="",V.style="display:none",ue.innerHTML="",e.target.tagName==="BUTTON"&&(document.querySelectorAll(".filter-button").forEach(t=>{t.classList.remove("filter-active")}),e.target.classList.add("filter-active"),H({filter:e.target.name}))});b.addEventListener("click",e=>{e.preventDefault(),W.innerHTML="",b.innerHTML="",k.innerHTML="",F.innerHTML="",V.style="display:none",e.target.tagName==="BUTTON"&&H({filter:e.target.name,page:e.target.id})});async function H({filter:e,page:t=1,limit:n=12}){try{const s=await me({filter:e,page:t,limit:n}),i=()=>{const m=s.data.totalPages;let c="";for(let o=1;o<=m;o++)Number(t)===o?c+=`<li id="${o}"  class="pg-item" > <button id="${o}" class="pg-num-btn pg-num-btn-active" type="button" name="${e}"
 >${o}</button></li> `:c+=`<li id="${o}"  class="pg-item" > <button id="${o}" class="pg-num-btn" type="button" name="${e}"
 >${o}</button></li> `;return c},r=s.data.results.reduce((m,{name:c,filter:o,imgUrl:se})=>m+`<li class="gallery-item" id=${c}>
          <div class="card" id="${o}:${c}">
             <img class="gallery-image"
             src="${se}"
             alt="${o}"
            />
            </div>
            <div class="card-description" id="${o}:${c}">
            <p class="name-description" id="${o}:${c}">${c}</p>
            <p class="filter-description" id="${o}:${c}">${o}</p>
            </div>
          </li>`,""),T=i();b.innerHTML=T,k.innerHTML=r}catch(s){console.error(s),l.error({message:s.message,color:"red",position:"topCenter"})}}const ye="Unfortunately, no results were found. You may want to consider other search options to find the exercise you are looking for. Our range is wide and you have the opportunity to find more options that suit your needs.",G=document.querySelector(".field-search-wraper"),fe=document.querySelector(".exercises-wraper"),M=document.querySelector(".gallery"),he=document.querySelector(".search-icon");let q=document.querySelector("#slash");const d=document.querySelector(".waist"),Q=document.querySelector("#search"),j=document.querySelector(".pagination-btn"),f=document.querySelector(".waist-pagination"),z=innerWidth;let a,$,be=1,y;const v=L.create({baseURL:"https://energyflow.b.goit.study/api"}),A=async(e,{params:t})=>await v.get(e,{params:t});f.addEventListener("click",e=>{e.preventDefault(),console.log(e.target.id),e.target.nodeName==="BUTTON"&&J(e.target.id),j.innerHTML="",d.innerHTML="",M.innerHTML="",q.innerHTML="",f.innerHTML="",G.style.display="block"});M.addEventListener("click",e=>{e.preventDefault(),Y="",!(e.target.nodeName!=="DIV"&&e.target.nodeName!=="H2"&&e.target.nodeName!=="P")&&(f.innerHTML="",j.innerHTML="",d.innerHTML="",M.innerHTML="",q.innerHTML="",G.style.display="block",d.classList.add("information-cards"),$=e.target.id,a=$.split(":"),v.defaults.params={page:be,limit:z>1400?"9":"8",muscles:a[0]==="Muscles"?a[1]:null,bodypart:a[0]==="Body parts"?a[1]:null,equipment:a[0]==="Equipment"?a[1]:null},q.insertAdjacentHTML("beforeend",`<p>&#8260;<span class="title-span">${a[1]}</span></p>`),J())});let Y="";function J(e){A("/exercises",{params:{page:e}}).then(t=>{y=0,y=t.data.totalPages;let n="";const i=(()=>{for(let r=1;r<=y;r++)Number(e)===r?n+=`<li id="${r}"  class="pg-item" > <button id="${r}" class="pg-num-btn pg-num-btn-active" type="button"
 >${r}</button></li> `:n+=`<li id="${r}"  class="pg-item" > <button id="${r}" class="pg-num-btn" type="button"
 >${r}</button></li> `;return n})();f.innerHTML=i,B(t.data.results),console.log(y)}).catch(t=>{l.error({message:t.message,position:"topRight"})})}f.addEventListener("click",e=>{Y="",d.innerHTML="",console.log(y);const t=e.target.textContent*1;a=$.split(":"),v.defaults.params={page:t,limit:z>1400?"9":"8",muscles:a[0]==="Muscles"?a[1]:null,bodypart:a[0]==="Body parts"?a[1]:null,equipment:a[0]==="Equipment"?a[1]:null},A("/exercises",{params:{}}).then(n=>{B(n.data.results)}).catch(n=>{l.error({message:n.message,position:"topRight"})})});let K;Q.addEventListener("input",e=>{K=e.target.value});he.addEventListener("click",e=>{d.innerHTML="",M.innerHTML="",v.defaults.params={page:1,limit:z>1400?"9":"8",keyword:K,muscles:a[0]==="Muscles"?a[1]:null,bodypart:a[0]==="Body parts"?a[1]:null,equipment:a[0]==="Equipment"?a[1]:null},A("/exercises",{params:{}}).then(t=>{console.log(t.data.totalPages),t.data.totalPages===null&&(fe.style.height="100vh",d.innerHTML=`<div class="invalid-name">${ye}</div>`),B(t.data.results)}).catch(t=>{l.error({message:t.message,position:"topRight"})}).finally(()=>{Q.value=""})});function B(e){d.insertAdjacentHTML("afterbegin",e.reduce((t,{burnedCalories:n,name:s,bodyPart:i,rating:r,time:T,target:m,_id:c})=>t+`<li class="waist-gallery-card">
      <div class="header-card">
        <div class="workout">WORKOUT</div>
        <div class="rating">
            <p>${r}</p>
            <svg class="icon-star" width="12" height="12">
                <use href="${S}#icon-star"></use>
            </svg>
        </div>

        <div class="workout-btn-container" data-action="right">
            <button class="workout-btn" id="${c}">Start
            <svg class="icon-right" width="14" height="16">
                <use href="${S}#icon-right"></use>
            </svg>
            </button>
        </div>
      </div>

      <div class="title-card">
          <div class="icon-card">
              <svg class="run" width="24" height="24">
                  <use href="${S}#run"></use>
              </svg>
          </div>
          <h3>${s}</h3>
      </div>

      <ul class="params-card">
            <li class="calories"><span class="params-text">Burned calories:</span> ${n}/${T}min</li>
            <li class="body-part"><span class="params-text">Body part:</span> ${i}</li>
            <li class="target"><span class="params-text">Target:</span> ${m}</li>
      </ul>
    </li>`,"")),ae()}const Me=document.querySelector(".footer-form"),Le=document.querySelector(".footer-form-input"),ve="https://energyflow.b.goit.study/api/subscription";Me.addEventListener("submit",Te);async function Te(e){e.preventDefault();const t=e.currentTarget.elements.footerInput.value.trim();if(!Se(t))return Ee();try{const n=await L.post(ve,{email:t});if(n.status>=200&&n.status<300){const s=n.data.message;l.success({title:"OK",message:s,color:"white",position:"center"})}else throw new Error}catch(n){l.error({title:"Error",message:n.response.data.message,position:"center",backgroundColor:"gray"})}finally{Le.value=""}}const Se=e=>/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/.test(e),Ee=()=>{l.info({title:"",message:"Please give us a valid email.",color:"white",position:"center"})},u=[{text:"One-Month Membership",color:"rgba(232, 232, 232, 1)"},{text:"Personal Training Session",color:"rgb(126, 133, 127)"},{text:"Fitness Bracelet",color:"rgba(232, 232, 232, 1)"},{text:"25% Off Certificate",color:"rgb(126, 133, 127)"},{text:"$50 Gift Card",color:"rgba(232, 232, 232, 1)"},{text:"10% Off Certificate",color:"rgb(126, 133, 127)"},{text:"$30 Gift Card",color:"rgba(232, 232, 232, 1)"},{text:"Participation in Marathon",color:"rgb(126, 133, 127)"}],p=document.querySelector(".deal-wheel"),g=p.querySelector(".spinner"),O=p.querySelector(".btn-spin"),P=p.querySelector(".ticker"),we=document.querySelector(".get-prize-container"),I=360/u.length,qe=Math.floor(180/u.length),Z="is-spinning",X="selected",$e=window.getComputedStyle(g);let ee,h=0,R=0,x;const Pe=()=>{u.forEach(({text:e,color:t,reaction:n},s)=>{const i=I*s*-1-qe;g.insertAdjacentHTML("beforeend",`<li class="prize" data-reaction=${n} style="--rotate: ${i}deg">
        <span class="text">${e}</span>
      </li>`)})},ke=()=>{g.setAttribute("style",`background: conic-gradient(
      from -90deg,
      ${u.map(({color:e},t)=>`${e} 0 ${100/u.length*(u.length-t)}%`).reverse()}
    );`)},He=()=>{ke(),Pe(),x=p.querySelectorAll(".prize")},ze=(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e),te=()=>{const e=$e.transform.split("(")[1].split(")")[0].split(","),t=e[0],n=e[1];let s=Math.atan2(n,t);s<0&&(s+=2*Math.PI);const i=Math.round(s*(180/Math.PI)),r=Math.floor(i/I);R!==r&&(P.style.animation="none",setTimeout(()=>P.style.animation=null,10),R=r),ee=requestAnimationFrame(te)},Ae=()=>{const e=Math.floor(h/I);x[e].classList.add(X);const t=u[e].text;setTimeout(()=>{p.style.display="none",introMessagePrize.style.display="none",congratulationsMessage.style.display="block",document.getElementById("congratulationMessage").innerHTML="Congratulations!",document.getElementById("congratulationMessage1").innerHTML=" You've won: ",document.getElementById("prizeMessage").innerText=t,we.style.display="block"},3e3)};O.addEventListener("click",()=>{O.disabled=!0,h=Math.floor(Math.random()*360+ze(2e3,5e3)),x.forEach(e=>e.classList.remove(X)),p.classList.add(Z),g.style.setProperty("--rotate",h),P.style.animation="none",te()});g.addEventListener("transitionend",()=>{cancelAnimationFrame(ee),h%=360,Ae(),p.classList.remove(Z),g.style.setProperty("--rotate",h)});He();const Be=document.querySelector("#prizeForm");document.querySelector(".input-get");Be.addEventListener("submit",Ie);async function Ie(e){e.preventDefault();const t=e.currentTarget.elements.prizeInput.value.trim();if(!xe(t))return De()}const xe=e=>/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/.test(e),De=()=>{l.info({title:"",message:"Please give us a valid email.",color:"white",position:"center"})};var D=document.getElementById("myModalPrize"),Ce=document.getElementById("openModalBtnPrize");Ce.onclick=function(){D.style.display="flex"};function ne(){D.style.display="none"}window.onclick=function(e){e.target==D&&ne()};var Oe=document.getElementById("closeModalPrize");Oe.onclick=function(){ne()};document.addEventListener("DOMContentLoaded",function(){function e(){var s=document.getElementById("email-prize").value,i=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!i.test(s)){l.error({title:"Error",message:"Enter a valid email!",zIndex:1001,timeout:2e3,backgroundColor:"white",color:"black",iconColor:"black"});return}l.success({title:"Success",message:"Form submitted!",zIndex:1001,timeout:2e3,backgroundColor:"white",color:"black",iconColor:"black"}),setTimeout(function(){t()},1e3)}function t(){var s=document.getElementById("myModalPrize");s.style.display="none"}var n=document.querySelector(".button-get");n.addEventListener("click",e)});
//# sourceMappingURL=commonHelpers2.js.map
